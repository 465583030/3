package cuda

/*
 THIS FILE IS AUTO-GENERATED BY CUDA2GO.
 EDITING IS FUTILE.
*/

import (
	"github.com/barnex/cuda5/cu"
	"unsafe"
)

var stencil3_code cu.Function

type stencil3_args struct {
	arg_dst   unsafe.Pointer
	arg_src   unsafe.Pointer
	arg_w0    float32
	arg_wt    float32
	arg_wb    float32
	arg_wu    float32
	arg_wd    float32
	arg_wl    float32
	arg_wr    float32
	arg_wrap0 int
	arg_wrap1 int
	arg_wrap2 int
	arg_N0    int
	arg_N1    int
	arg_N2    int
	argptr    [15]unsafe.Pointer
}

// Wrapper for stencil3 CUDA kernel, asynchronous.
func k_stencil3_async(dst unsafe.Pointer, src unsafe.Pointer, w0 float32, wt float32, wb float32, wu float32, wd float32, wl float32, wr float32, wrap0 int, wrap1 int, wrap2 int, N0 int, N1 int, N2 int, cfg *Config, str cu.Stream) {
	if stencil3_code == 0 {
		stencil3_code = cu.ModuleLoadData(stencil3_ptx).GetFunction("stencil3")
	}

	var a stencil3_args

	a.arg_dst = dst
	a.argptr[0] = unsafe.Pointer(&a.arg_dst)
	a.arg_src = src
	a.argptr[1] = unsafe.Pointer(&a.arg_src)
	a.arg_w0 = w0
	a.argptr[2] = unsafe.Pointer(&a.arg_w0)
	a.arg_wt = wt
	a.argptr[3] = unsafe.Pointer(&a.arg_wt)
	a.arg_wb = wb
	a.argptr[4] = unsafe.Pointer(&a.arg_wb)
	a.arg_wu = wu
	a.argptr[5] = unsafe.Pointer(&a.arg_wu)
	a.arg_wd = wd
	a.argptr[6] = unsafe.Pointer(&a.arg_wd)
	a.arg_wl = wl
	a.argptr[7] = unsafe.Pointer(&a.arg_wl)
	a.arg_wr = wr
	a.argptr[8] = unsafe.Pointer(&a.arg_wr)
	a.arg_wrap0 = wrap0
	a.argptr[9] = unsafe.Pointer(&a.arg_wrap0)
	a.arg_wrap1 = wrap1
	a.argptr[10] = unsafe.Pointer(&a.arg_wrap1)
	a.arg_wrap2 = wrap2
	a.argptr[11] = unsafe.Pointer(&a.arg_wrap2)
	a.arg_N0 = N0
	a.argptr[12] = unsafe.Pointer(&a.arg_N0)
	a.arg_N1 = N1
	a.argptr[13] = unsafe.Pointer(&a.arg_N1)
	a.arg_N2 = N2
	a.argptr[14] = unsafe.Pointer(&a.arg_N2)

	args := a.argptr[:]
	cu.LaunchKernel(stencil3_code, cfg.Grid.X, cfg.Grid.Y, cfg.Grid.Z, cfg.Block.X, cfg.Block.Y, cfg.Block.Z, 0, str, args)
}

// Wrapper for stencil3 CUDA kernel, synchronized.
func k_stencil3(dst unsafe.Pointer, src unsafe.Pointer, w0 float32, wt float32, wb float32, wu float32, wd float32, wl float32, wr float32, wrap0 int, wrap1 int, wrap2 int, N0 int, N1 int, N2 int, cfg *Config) {
	str := Stream()
	k_stencil3_async(dst, src, w0, wt, wb, wu, wd, wl, wr, wrap0, wrap1, wrap2, N0, N1, N2, cfg, str)
	SyncAndRecycle(str)
}

const stencil3_ptx = `
.version 3.0
.target sm_30
.address_size 64


.entry stencil3(
	.param .u64 stencil3_param_0,
	.param .u64 stencil3_param_1,
	.param .f32 stencil3_param_2,
	.param .f32 stencil3_param_3,
	.param .f32 stencil3_param_4,
	.param .f32 stencil3_param_5,
	.param .f32 stencil3_param_6,
	.param .f32 stencil3_param_7,
	.param .f32 stencil3_param_8,
	.param .u32 stencil3_param_9,
	.param .u32 stencil3_param_10,
	.param .u32 stencil3_param_11,
	.param .u32 stencil3_param_12,
	.param .u32 stencil3_param_13,
	.param .u32 stencil3_param_14
)
{
	.reg .f32 	%f<44>;
	.reg .pred 	%p<11>;
	.reg .s32 	%r<91>;
	.reg .s64 	%rl<29>;


	ld.param.u32 	%r1, [stencil3_param_12];
	ld.param.u32 	%r2, [stencil3_param_13];
	ld.param.u32 	%r3, [stencil3_param_14];
	.loc 2 21 1
	mov.u32 	%r4, %ctaid.x;
	mov.u32 	%r5, %ntid.x;
	mov.u32 	%r6, %tid.x;
	mad.lo.s32 	%r7, %r5, %r4, %r6;
	.loc 2 22 1
	mov.u32 	%r8, %ntid.y;
	mov.u32 	%r9, %ctaid.y;
	mov.u32 	%r10, %tid.y;
	mad.lo.s32 	%r11, %r8, %r9, %r10;
	setp.lt.s32 	%p1, %r11, %r3;
	setp.lt.s32 	%p2, %r7, %r2;
	and.pred  	%p3, %p2, %p1;
	.loc 2 28 1
	setp.gt.s32 	%p4, %r1, 0;
	and.pred  	%p5, %p3, %p4;
	.loc 2 24 1
	@!%p5 bra 	BB0_12;

	.loc 2 33 1
	add.s32 	%r12, %r7, 1;
	add.s32 	%r13, %r7, -1;
	.loc 2 34 1
	add.s32 	%r14, %r11, 1;
	add.s32 	%r15, %r11, -1;
	ld.param.u32 	%r81, [stencil3_param_14];
	mul.lo.s32 	%r88, %r81, %r7;
	mad.lo.s32 	%r89, %r81, %r7, %r11;
	mov.u32 	%r90, 0;

BB0_2:
	ld.param.u32 	%r76, [stencil3_param_13];
	mul.lo.s32 	%r21, %r90, %r76;
	ld.param.f32 	%f33, [stencil3_param_2];
	.loc 2 31 1
	setp.neu.f32 	%p6, %f33, 0f00000000;
	@%p6 bra 	BB0_4;

	mov.f32 	%f43, 0f00000000;
	bra.uni 	BB0_5;

BB0_4:
	ld.param.u64 	%rl28, [stencil3_param_1];
	cvta.to.global.u64 	%rl3, %rl28;
	.loc 2 31 1
	mul.wide.s32 	%rl4, %r89, 4;
	add.s64 	%rl5, %rl3, %rl4;
	ld.global.f32 	%f17, [%rl5];
	ld.param.f32 	%f32, [stencil3_param_2];
	.loc 2 31 1
	fma.rn.f32 	%f43, %f17, %f32, 0f00000000;

BB0_5:
	ld.param.f32 	%f35, [stencil3_param_3];
	.loc 2 32 1
	setp.neu.f32 	%p7, %f35, 0f00000000;
	@%p7 bra 	BB0_6;
	bra.uni 	BB0_7;

BB0_6:
	.loc 2 32 1
	add.s32 	%r29, %r90, 1;
	mov.u32 	%r30, 0;
	.loc 3 238 5
	max.s32 	%r31, %r29, %r30;
	ld.param.u32 	%r72, [stencil3_param_12];
	add.s32 	%r32, %r72, -1;
	.loc 3 210 5
	min.s32 	%r33, %r31, %r32;
	ld.param.u32 	%r75, [stencil3_param_13];
	mad.lo.s32 	%r38, %r33, %r75, %r7;
	ld.param.u32 	%r80, [stencil3_param_14];
	.loc 2 32 1
	mad.lo.s32 	%r39, %r38, %r80, %r11;
	ld.param.u64 	%rl27, [stencil3_param_1];
	cvta.to.global.u64 	%rl6, %rl27;
	.loc 2 32 1
	mul.wide.s32 	%rl7, %r39, 4;
	add.s64 	%rl8, %rl6, %rl7;
	ld.global.f32 	%f18, [%rl8];
	add.s32 	%r41, %r90, -1;
	.loc 3 238 5
	max.s32 	%r42, %r41, %r30;
	.loc 3 210 5
	min.s32 	%r43, %r42, %r32;
	mad.lo.s32 	%r44, %r43, %r75, %r7;
	.loc 2 32 1
	mad.lo.s32 	%r45, %r44, %r80, %r11;
	mul.wide.s32 	%rl9, %r45, 4;
	add.s64 	%rl10, %rl6, %rl9;
	ld.global.f32 	%f19, [%rl10];
	ld.param.f32 	%f36, [stencil3_param_4];
	.loc 2 32 1
	mul.f32 	%f20, %f19, %f36;
	ld.param.f32 	%f34, [stencil3_param_3];
	.loc 2 32 1
	fma.rn.f32 	%f21, %f18, %f34, %f20;
	add.f32 	%f43, %f43, %f21;

BB0_7:
	ld.param.f32 	%f38, [stencil3_param_5];
	.loc 2 33 1
	setp.neu.f32 	%p8, %f38, 0f00000000;
	@%p8 bra 	BB0_8;
	bra.uni 	BB0_9;

BB0_8:
	mov.u32 	%r47, 0;
	.loc 3 238 5
	max.s32 	%r48, %r12, %r47;
	ld.param.u32 	%r74, [stencil3_param_13];
	add.s32 	%r49, %r74, -1;
	.loc 3 210 5
	min.s32 	%r50, %r48, %r49;
	add.s32 	%r51, %r50, %r21;
	ld.param.u32 	%r79, [stencil3_param_14];
	.loc 2 33 1
	mad.lo.s32 	%r52, %r51, %r79, %r11;
	ld.param.u64 	%rl26, [stencil3_param_1];
	cvta.to.global.u64 	%rl11, %rl26;
	.loc 2 33 1
	mul.wide.s32 	%rl12, %r52, 4;
	add.s64 	%rl13, %rl11, %rl12;
	ld.global.f32 	%f22, [%rl13];
	.loc 3 238 5
	max.s32 	%r54, %r13, %r47;
	.loc 3 210 5
	min.s32 	%r55, %r54, %r49;
	add.s32 	%r56, %r55, %r21;
	.loc 2 33 1
	mad.lo.s32 	%r57, %r56, %r79, %r11;
	mul.wide.s32 	%rl14, %r57, 4;
	add.s64 	%rl15, %rl11, %rl14;
	ld.global.f32 	%f23, [%rl15];
	ld.param.f32 	%f39, [stencil3_param_6];
	.loc 2 33 1
	mul.f32 	%f24, %f23, %f39;
	ld.param.f32 	%f37, [stencil3_param_5];
	.loc 2 33 1
	fma.rn.f32 	%f25, %f22, %f37, %f24;
	add.f32 	%f43, %f43, %f25;

BB0_9:
	ld.param.f32 	%f42, [stencil3_param_8];
	.loc 2 34 1
	setp.neu.f32 	%p9, %f42, 0f00000000;
	@%p9 bra 	BB0_10;
	bra.uni 	BB0_11;

BB0_10:
	mov.u32 	%r59, 0;
	.loc 3 238 5
	max.s32 	%r60, %r14, %r59;
	ld.param.u32 	%r78, [stencil3_param_14];
	add.s32 	%r61, %r78, -1;
	.loc 3 210 5
	min.s32 	%r62, %r60, %r61;
	add.s32 	%r63, %r62, %r88;
	ld.param.u64 	%rl25, [stencil3_param_1];
	cvta.to.global.u64 	%rl16, %rl25;
	.loc 2 34 1
	mul.wide.s32 	%rl17, %r63, 4;
	add.s64 	%rl18, %rl16, %rl17;
	ld.global.f32 	%f26, [%rl18];
	.loc 3 238 5
	max.s32 	%r65, %r15, %r59;
	.loc 3 210 5
	min.s32 	%r66, %r65, %r61;
	add.s32 	%r67, %r66, %r88;
	.loc 2 34 1
	mul.wide.s32 	%rl19, %r67, 4;
	add.s64 	%rl20, %rl16, %rl19;
	ld.global.f32 	%f27, [%rl20];
	ld.param.f32 	%f40, [stencil3_param_7];
	.loc 2 34 1
	mul.f32 	%f28, %f27, %f40;
	ld.param.f32 	%f41, [stencil3_param_8];
	.loc 2 34 1
	fma.rn.f32 	%f29, %f26, %f41, %f28;
	add.f32 	%f43, %f43, %f29;

BB0_11:
	ld.param.u64 	%rl24, [stencil3_param_0];
	cvta.to.global.u64 	%rl21, %rl24;
	.loc 2 36 1
	mul.wide.s32 	%rl22, %r89, 4;
	add.s64 	%rl23, %rl21, %rl22;
	ld.global.f32 	%f30, [%rl23];
	add.f32 	%f31, %f30, %f43;
	st.global.f32 	[%rl23], %f31;
	ld.param.u32 	%r73, [stencil3_param_13];
	ld.param.u32 	%r77, [stencil3_param_14];
	mad.lo.s32 	%r89, %r77, %r73, %r89;
	mad.lo.s32 	%r88, %r77, %r73, %r88;
	.loc 2 28 18
	add.s32 	%r90, %r90, 1;
	ld.param.u32 	%r71, [stencil3_param_12];
	.loc 2 28 1
	setp.lt.s32 	%p10, %r90, %r71;
	@%p10 bra 	BB0_2;

BB0_12:
	.loc 2 38 2
	ret;
}


`
