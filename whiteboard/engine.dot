digraph engine{

rankdir=LR

node [ shape = "oval" ]

#Action[shape="oval"]
#in1->Action->out1
#in2->Action->out2

update_torque[shape="doublecircle"]
torque[shape="rect"]
load_torque
update_torque->torque
torque->load_torque
load_torque[rank=sink]

load_alpha->update_torque
load_gamma->update_torque

load_Hext
load_Hext->load_Heff

m[shape="rect"]
m[rank="source"]
m->load_m
load_m->update_torque

#solver[shape="doublecircle" style="filled"]
#load_torque->solver
#solver->m

load_Hani->load_Heff
load_K1->load_Hani
load_U->load_Hani

update_Hdemag[shape="doublecircle"]
Hdemag[shape="rect"]
update_Hdemag->Hdemag
Hdemag->load_Hdemag
m->update_Hdemag
load_Hdemag->load_Heff

update_Hex[shape="doublecircle"]
Hex[shape="rect"]
update_Hex->Hex
Hex->load_Hex
m->update_Hex
load_Hex->load_Heff
load_Aex->update_Hex

load_Heff
load_Heff->update_torque
}
